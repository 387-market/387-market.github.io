<!-- Made by 387 News, 2025 -->

<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>387 Market</title>
  <link rel="stylesheet" href="Scripts/index/styles.css">
</head>
<body>
  <header>
    <div class="header-left">387 Market</div>
    <div class="header-center">
      <div class="search-wrapper">
        <input type="text" id="searchInput" placeholder="Поиск по названию..." oninput="handleSearchInput()" onkeydown="handleSearchKey(event)" />
        <span class="clear-icon" id="clearSearch" onclick="clearSearch()">✖</span>
      </div>
    </div>
    <label class="container-like">
      <input type="checkbox" onclick="filterLiked()">
      <svg id="Layer_1" version="1.0" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M16.4,4C14.6,4,13,4.9,12,6.3C11,4.9,9.4,4,7.6,4C4.5,4,2,6.5,2,9.6C2,14,12,22,12,22s10-8,10-12.4C22,6.5,19.5,4,16.4,4z"></path></svg>
    </label>
    <button id="themeToggle" class="theme-toggle" aria-label="Сменить тему">☀️</button>
  </header>

  <main>
    <div class="grid-container" id="serviceGrid"></div>

    <button class="create-button" onclick="toggleForm()">Создать объявление</button>
  
    <div class="form-modal" id="formModal">
      <div class="form-container">
        <button onclick="toggleForm()" style="position:absolute; top:10px; right:10px; background:none; border:none; font-size:20px; color:var(--accent-color); cursor:pointer;">✖</button>
        
        <h2>Новое объявление</h2>
  
        <label for="offerType">Тип предложения</label>
        <select id="offerType" onchange="handleOfferTypeChange()">
          <option value="Товар" selected>Товар</option>
          <option value="Услуга">Услуга</option>
          <option value="Аренда">Аренда</option>
        </select>
  
        <label for="title">Название объявления</label>
        <input type="text" id="title" />
  
        <label for="description">Краткое описание</label>
        <textarea id="description" rows="3"></textarea>
  
        <label for="imageUrl">URL-ссылка на картинку</label>
        <input type="text" id="imageUrl" placeholder="Ссылка на изображение (Image URL)" required />
        
        <label>Ваши данные</label>
        <div class="form-row">
          <input type="text" id="name" placeholder="Имя" required />
          <input type="text" id="surname" placeholder="Фамилия" required />
          <input type="text" id="grade" placeholder="Класс" required />
        </div>
  
        <div id="priceWrapper">
          <label for="price">Цена (в рублях)</label>
          <input type="text" id="price" />
        </div>      
  
        <label for="telegram">Telegram Username</label>
        <input type="text" id="telegram" placeholder="@username" />
  
        <label for="payment">Способ оплаты</label>
        <select id="payment">
          <option value="Наличными">Наличными</option>
          <option value="Переводом">Переводом</option>
          <option value="Без разницы">Без разницы</option>
        </select>
        <div class="send-form">
          <button onclick="sendToTelegram()">Отправить заявку</button>
        </div>
        
      </div>
    </div>
  
    <div id="detailModal" class="form-modal">
      <div class="form-container" style="position: relative">
        <button onclick="closeDetails()" style="position:absolute; top:10px; right:10px; background:none; border:none; font-size:20px; color:var(--accent-color); cursor:pointer;">✖</button>
        <h2 id="detailTitle"></h2>
        <p><strong>ID:</strong> <span id="detailId"></span></p>
        <p><strong>Тип предложения:</strong> <span id="detailOfferType"></span></p>
        <p><strong>Описание:</strong> <span id="detailDescription"></span></p>
        <p><strong>Цена:</strong> <span id="detailPrice"></span></p>
        <p><strong>Продавец:</strong> <span id="detailSeller"></span></p>
        <p><strong>Дата публикации:</strong> <span id="detailDate"></span></p>
        <p><strong>Оплата:</strong> <span id="detailPayment"></span></p>
        <div class="details-actions">
          <button id="contactBtn">Связаться с продавцом</button>
          <button id="report-button" onclick="openReportForm()">Пожаловаться</button>
        </div>      
      </div>
    </div>
  
    <div class="report-modal" id="reportModal">
      <div class="report-container">
        <span class="close-report" onclick="closeReportForm()">✕</span>
        <h3>Опишите свою жалобу</h3>
        <textarea id="reportText" rows="5" placeholder="Напишите здесь..."></textarea>
        <button class="submit-report" onclick="submitReport()">Отправить</button>
      </div>
    </div>

    <div id="subscribeModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <span id="closeSubscribe" class="close-timer">5</span>
        </div>
        <div class="modal-body">
          <img src="Media/logo.png" style="width: 70%; border-radius: 50%;">
          <h2>Подпишись на канал 387 News в Telegram!</h2>
          <a href="https://t.me/news387" target="_blank" class="subscribe-btn">Подписаться</a>
        </div>
      </div>
    </div>

    <div id="noResultsAnimation" style="display: none; text-align: center;">
      <svg xmlns="http://www.w3.org/2000/svg" height="200" width="200">
        <g style="order: -1;">
          <polygon
            transform="rotate(45 100 100)"
            stroke-width="1"
            stroke="#d3a410"
            fill="none"
            points="70,70 148,50 130,130 50,150"
            id="bounce"
          ></polygon>
          <polygon
            transform="rotate(45 100 100)"
            stroke-width="1"
            stroke="#d3a410"
            fill="none"
            points="70,70 148,50 130,130 50,150"
            id="bounce2"
          ></polygon>
          <polygon
            transform="rotate(45 100 100)"
            stroke-width="2"
            stroke=""
            fill="#414750"
            points="70,70 150,50 130,130 50,150"
          ></polygon>
          <polygon
            stroke-width="2"
            stroke=""
            fill="url(#gradiente)"
            points="100,70 150,100 100,130 50,100"
          ></polygon>
          <defs>
            <linearGradient y2="100%" x2="10%" y1="0%" x1="0%" id="gradiente">
              <stop style="stop-color: #1e2026;stop-opacity:1" offset="20%"></stop>
              <stop style="stop-color:#414750;stop-opacity:1" offset="60%"></stop>
            </linearGradient>
          </defs>
          <polygon
            transform="translate(20, 31)"
            stroke-width="2"
            stroke=""
            fill="#b7870f"
            points="80,50 80,75 80,99 40,75"
          ></polygon>
          <polygon
            transform="translate(20, 31)"
            stroke-width="2"
            stroke=""
            fill="url(#gradiente2)"
            points="40,-40 80,-40 80,99 40,75"
          ></polygon>
          <defs>
            <linearGradient y2="100%" x2="0%" y1="-17%" x1="10%" id="gradiente2">
              <stop style="stop-color: #d3a51000;stop-opacity:1" offset="20%"></stop>
              <stop
                style="stop-color:#d3a51054;stop-opacity:1"
                offset="100%"
                id="animatedStop"
              ></stop>
            </linearGradient>
          </defs>
          <polygon
            transform="rotate(180 100 100) translate(20, 20)"
            stroke-width="2"
            stroke=""
            fill="#d3a410"
            points="80,50 80,75 80,99 40,75"
          ></polygon>
          <polygon
            transform="rotate(0 100 100) translate(60, 20)"
            stroke-width="2"
            stroke=""
            fill="url(#gradiente3)"
            points="40,-40 80,-40 80,85 40,110.2"
          ></polygon>
          <defs>
            <linearGradient y2="100%" x2="10%" y1="0%" x1="0%" id="gradiente3">
              <stop style="stop-color: #d3a51000;stop-opacity:1" offset="20%"></stop>
              <stop
                style="stop-color:#d3a51054;stop-opacity:1"
                offset="100%"
                id="animatedStop"
              ></stop>
            </linearGradient>
          </defs>
          <polygon
            transform="rotate(45 100 100) translate(80, 95)"
            stroke-width="2"
            stroke=""
            fill="#ffe4a1"
            points="5,0 5,5 0,5 0,0"
            id="particles"
          ></polygon>
          <polygon
            transform="rotate(45 100 100) translate(80, 55)"
            stroke-width="2"
            stroke=""
            fill="#ccb069"
            points="6,0 6,6 0,6 0,0"
            id="particles"
          ></polygon>
          <polygon
            transform="rotate(45 100 100) translate(70, 80)"
            stroke-width="2"
            stroke=""
            fill="#fff"
            points="2,0 2,2 0,2 0,0"
            id="particles"
          ></polygon>
          <polygon
            stroke-width="2"
            stroke=""
            fill="#292d34"
            points="29.5,99.8 100,142 100,172 29.5,130"
          ></polygon>
          <polygon
            transform="translate(50, 92)"
            stroke-width="2"
            stroke=""
            fill="#1f2127"
            points="50,50 120.5,8 120.5,35 50,80"
          ></polygon>
        </g>
      </svg>
      <h2 id="no_search_header"></h2>
    </div>    
  
    <script src="Scripts/index/script.js"></script>
    <a href="https://t.me/shop387feedback_bot" class="help-button" target="_blank" aria-label="Помощь в Telegram">?</a>
  </main>

  <footer>
    <div class="footer-div">
      <p><i>Powered by <b><a href="https://t.me/news387">387 News</a></b></i></p>
    </div>
  </footer>
</body>
</html>